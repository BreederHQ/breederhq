/* ───────────────── Drawer / Details base (unchanged essentials) ─────────── */
.bhq-drawer,
[data-bhq-drawer="true"],
.bhq-details-drawer {
  font-size: 0.9rem;
  line-height: 1.35rem;
  color: var(--color-text, #c9c9c9);
}

:root {
  --bhq-accent: #ff7a1a;
  --bhq-title-strong: var(--color-text-strong, #e9e9e9);
  --bhq-title-dim: var(--color-text, #c9c9c9);
}

@keyframes bhq-title-sweep {
  from { background-position-x: 200%; }
  to   { background-position-x: -200%; }
}

.bhq-section-card { --_bg: var(--brand-surface2, rgba(255,255,255,.02)); background: var(--_bg); }
.bhq-section-card .bhq-section-title {
  font-weight: 700; font-size: .95rem; line-height: 1.25rem; letter-spacing: .2px;
  color: var(--bhq-title-strong); margin: 0 0 10px 0; padding-bottom: 6px;
}
.bhq-section-card .bhq-section-title > * > span:last-child {
  position: relative; padding-bottom: 6px;
}
.bhq-section-card .bhq-section-title > * > span:last-child::after {
  content:""; position:absolute; left:0; bottom:0; height:2px; width:28px; border-radius:2px;
  background: linear-gradient(90deg,transparent,var(--bhq-accent),transparent);
  background-size:200% 100%; animation: bhq-title-sweep 11s ease-in-out infinite; opacity:.95;
}
@media (prefers-reduced-motion: reduce) {
  .bhq-section-card .bhq-section-title > * > span:last-child::after { animation: none; opacity: .75; }
}

/* Compact sizing tokens inside drawers */
.bhq-details-drawer, [data-bhq-details="true"], [data-bhq-drawer="true"] {
  --details-control-h: 2rem;
  --details-control-px: .5rem;
}
:where(.bhq-details-exempt,[data-bhq-details-exempt]) {}

/* Normalize controls (only when not exempt) */
.bhq-details-drawer :not(.bhq-details-exempt):not([data-bhq-details-exempt]) input,
.bhq-details-drawer :not(.bhq-details-exempt):not([data-bhq-details-exempt]) select,
.bhq-details-drawer :not(.bhq-details-exempt):not([data-bhq-details-exempt]) textarea,
.bhq-details-drawer :not(.bhq-details-exempt):not([data-bhq-details-exempt]) button,
[data-bhq-details="true"] :not(.bhq-details-exempt):not([data-bhq-details-exempt]) input,
[data-bhq-details="true"] :not(.bhq-details-exempt):not([data-bhq-details-exempt]) select,
[data-bhq-details="true"] :not(.bhq-details-exempt):not([data-bhq-details-exempt]) textarea,
[data-bhq-details="true"] :not(.bhq-details-exempt):not([data-bhq-details-exempt]) button,
[data-bhq-drawer="true"] :not(.bhq-details-exempt):not([data-bhq-details-exempt]) input,
[data-bhq-drawer="true"] :not(.bhq-details-exempt):not([data-bhq-details-exempt]) select,
[data-bhq-drawer="true"] :not(.bhq-details-exempt):not([data-bhq-details-exempt]) textarea,
[data-bhq-drawer="true"] :not(.bhq-details-exempt):not([data-bhq-details-exempt]) button {
  min-height: var(--details-control-h);
  height: var(--details-control-h);
  padding-left: var(--details-control-px);
  padding-right: var(--details-control-px);
  box-sizing: border-box;
}

/* Allow exempt blocks (like calendar inputs) to position adornments */
.bhq-details-drawer :where(.bhq-details-exempt,[data-bhq-details-exempt]),
[data-bhq-details="true"] :where(.bhq-details-exempt,[data-bhq-details-exempt]),
[data-bhq-drawer="true"] :where(.bhq-details-exempt,[data-bhq-details-exempt]) {
  position: relative; min-width: 0; overflow: visible;
}

/* === FIX: Unwanted scrollbar in non-edit mode ==============================
   Some skins were giving .bhq-section-card bodies a constrained height with
   overflow:auto. We force section bodies in drawers to be fully auto-sized in
   view mode so no inner scrollbar appears.
*/
[data-bhq-details] .bhq-section-card,
[data-bhq-drawer="true"] .bhq-section-card,
.bhq-details-drawer .bhq-section-card {
  overflow: visible !important;
}

[data-bhq-details] .bhq-section-card .bhq-section-body,
[data-bhq-drawer="true"] .bhq-section-card .bhq-section-body,
.bhq-details-drawer .bhq-section-card .bhq-section-body {
  max-height: none !important;
  overflow: visible !important;
}

/* Keep date icon anchored when inside drawers (works with current markup) */
:where(.bhq-details-drawer,[data-bhq-details="true"],[data-bhq-drawer="true"])
  button[aria-label="Open date picker"] {
  position: absolute !important;
  right: .5rem; top: 50%; transform: translateY(-50%);
}
